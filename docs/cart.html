<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Корзина</title>
  <style>
    body { font-family: 'Inter', sans-serif; background: #f6f7fb; margin: 0; padding: 20px; color: #222; }
    h1 { margin-bottom: 20px; }
    .cart-item { display: flex; align-items: center; justify-content: space-between; padding: 10px; border-bottom: 1px solid #ddd; }
    .cart-item img { width: 60px; height: 60px; object-fit: cover; border-radius: 8px; }
    .cart-info { flex: 1; margin-left: 15px; }
    .cart-actions { display: flex; align-items: center; gap: 10px; }
    .checkout-btn {
      display: inline-block;
      margin-top: 20px;
      padding: 12px 24px;
      border: none;
      border-radius: 20px;
      background: #00aaff;
      color: #fff;
      font-size: 16px;
      cursor: pointer;
    }
    .checkout-btn:hover { background: #0088cc; }
  </style>
</head>
<body>
  <h1>Корзина</h1>
  <div id="cartItems"></div>
  <p id="emptyCart" style="display:none;">Корзина пуста</p>

  <!-- кнопка оформления -->
  <button id="checkoutBtn" class="checkout-btn">Оформить заказ</button>

  <script>
    function renderCart() {
      const container = document.getElementById("cartItems");
      const emptyMsg = document.getElementById("emptyCart");
      let cart = [];
      try { cart = JSON.parse(localStorage.getItem("cart") || "[]"); } catch {}

      container.innerHTML = "";
      if (cart.length === 0) {
        emptyMsg.style.display = "block";
        document.getElementById("checkoutBtn").style.display = "none";
        return;
      }
      emptyMsg.style.display = "none";
      document.getElementById("checkoutBtn").style.display = "inline-block";

      cart.forEach((item, index) => {
        const div = document.createElement("div");
        div.className = "cart-item";
        div.innerHTML = `
          <img src="${item.image || ''}" alt="">
          <div class="cart-info">
            <b>${item.name}</b><br>
            Размер: ${item.size}<br>
            ${item.price} ₽
          </div>
          <div class="cart-actions">
            <button onclick="removeFromCart(${index})">Удалить</button>
          </div>
        `;
        container.appendChild(div);
      });
    }

    function removeFromCart(index) {
      let cart = [];
      try { cart = JSON.parse(localStorage.getItem("cart") || "[]"); } catch {}
      cart.splice(index, 1);
      localStorage.setItem("cart", JSON.stringify(cart));
      renderCart();
    }

    document.getElementById("checkoutBtn").onclick = () => {
      window.location.href = "checkout.html";
    };

    renderCart();
  </script>
</body>
</html>
